<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="index.css">
    <script src="index.js"></script>
</head>
<body>
    <div id="cart">
       
        <div class="cart-item" id="item1">
            <span class="item-name" >Item 1</span>
            <img src="/Babel.jpg" alt="exemple"style="width:10%;height:10%">
            <button class="quantity-btn" onclick="adjustQuantity('item1', 'decrement')">-</button>
            <span class="quantity" id="item1-quantity">1</span>
            <button class="quantity-btn" onclick="adjustQuantity('item1', 'increment')">+</button>
            <button class="delete-btn" onclick="deleteItem('item1')">Delete</button>
            <button class="like-btn" onclick="toggleLike('item1')" id="likeButton-item1"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></button>
            <span class="item-price">$10.00</span>
        </div>
        <div class="cart-item" id="item2">
            <span class="item-name">Item 2</span>
            <img src="/Babel.jpg" alt="exemple" style="height:10%;width:10%">
            <button class="quantity-btn" onclick="adjustQuantity('item2', 'decrement')">-</button>
            <span class="quantity" id="item2-quantity">1</span>
            <button class="quantity-btn" onclick="adjustQuantity('item2', 'increment')">+</button>
            <button class="delete-btn" onclick="deleteItem('item2')">Delete</button>
            <button class="like-btn" onclick="toggleLike('item2')" id="likeButton-item2"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></button>
            <span class="item-price">$10.00</span>
        </div>
        <div class="cart-item" id="item3">
            <span class="item-name">Item 3</span>
            <img src="/Babel.jpg" alt="exemple"style="height:10%;width:10%">
            <button class="quantity-btn" onclick="adjustQuantity('item3', 'decrement')">-</button>
            <span class="quantity" id="item3-quantity">1</span>
            <button class="quantity-btn" onclick="adjustQuantity('item3', 'increment')">+</button>
            <button class="delete-btn" onclick="deleteItem('item3')">Delete</button>
            <button class="like-btn" onclick="toggleLike('item3')" id="likeButton-item3"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></button>
            <span class="item-price">$10.00</span>
        </div>
        <div id="total-price">Total: $10.00</div>
    </div>
    <script>
         document.addEventListener('DOMContentLoaded', function() {
            updateTotalPrice();
        });
        function adjustQuantity(itemId, action) {
            var quantityElement = document.getElementById(itemId + '-quantity');
            var currentQuantity = parseInt(quantityElement.innerHTML);

            if (action === 'increment') {
                quantityElement.innerHTML = currentQuantity + 1;
            } else if (action === 'decrement' && currentQuantity > 1) {
                quantityElement.innerHTML = currentQuantity - 1;
            }
            updateTotalPrice();
        } 
        function deleteItem(itemId) {
            var item = document.getElementById(itemId);
            item.parentNode.removeChild(item);

            updateTotalPrice();
        }
        async function updateTotalPrice() {
            var totalElement = document.getElementById('total-price');
            var totalPrice = 0;

            // Iterate through each cart item and update the total price
            var cartItems = document.getElementsByClassName('cart-item');
            for (var i = 0; i < cartItems.length; i++) {
                var quantity = parseInt(cartItems[i].getElementsByClassName('quantity')[0].innerHTML);
                var price = parseFloat(cartItems[i].getElementsByClassName('item-price')[0].innerHTML.replace('$', ''));
                totalPrice += quantity * price;
            }

            // Update the total price element
            totalElement.innerHTML = 'Total: $' + totalPrice.toFixed(2);
        }
        function toggleLike(itemId) {
    var likeButton = document.getElementById('likeButton-' + itemId);
    var heartIcon = likeButton.querySelector('svg');

    if (heartIcon.style.fill === 'blue') {
        // If the heart is already blue, change it to the default color
        heartIcon.style.fill = '';
    } else {
        // If the heart is not blue, change it to blue
        heartIcon.style.fill = 'blue';
    }

    // Add your existing logic for liking the item here
}
    </script>
</body>
</html>